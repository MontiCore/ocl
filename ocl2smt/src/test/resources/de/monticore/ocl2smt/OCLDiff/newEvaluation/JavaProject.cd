package de.monticore.ocl2smt.OCLDiff.newEvaluation;



classdiagram JavaProject{



      // ______________________________________________________
      // start- ArtifactModel
      // ______________________________________________________

      abstract class Artifact {
          String simpleName;
          String nameExtension;
          Date modified;

          String name;
          String fullName;
          boolean isRoot;
      }

      class FileArtifact extends Artifact {}

      // TODO beide assocs waren abgeleitet
      association refersTo [*] Artifact -> (refersTo )Artifact [*];

      association produces [*] Artifact -> (produces)Artifact [*];

      class Root {
          boolean isExternal;
          String fullName;
          String name;
      }

      association root [*] Artifact -> Root [1];

      association ancestors [1] Root -> Artifact [*];

      association artifactRepresentation [1] Root -> Artifact [1];


      //______________________________________________________
      // ArtifactContainer
      //______________________________________________________

      abstract class ArtifactContainer extends Artifact {}

      class Directory extends ArtifactContainer {}

      class Archive extends ArtifactContainer {}

      //TODO was : composition contains [0..1] ArtifactContainer (parent) -> Artifact [*];
      //Breaks all kind of things (multiple instances of isContainsValid)
      association contains [0..1] ArtifactContainer(parent) -> (contains)Artifact [*] ;


      //______________________________________________________
      // ArtifactView
      //______________________________________________________

      abstract class ArtifactView{
        String name;
      }

      association views [1] Artifact <-> ArtifactView [*];


      //______________________________________________________
      // Internals
      //______________________________________________________

      abstract class ArtifactInternal{}

      // assoc abgeleitet, wird durch Spezialisierungen von Interal beschrieben
      association internals [1] ArtifactView <-> ArtifactInternal [*];


      //______________________________________________________
      // Metric
      //______________________________________________________

      abstract class Metric{}

      association artifactMetric [*] Artifact <-> Metric [*];

      association viewMetric [*] ArtifactView <-> Metric [*];

      association internalMetric [*] ArtifactInternal <-> Metric [*];



      //______________________________________________________
      // End-Artifact-Model
      //______________________________________________________






    association reliesOnJavaArtifact [*] JavaView -> JavaView [*] ;



    class JavaPackage {
        String name;


        String fullName;
        boolean isRoot;
    }

    association belongsTo  [*]  JavaView  <->  JavaPackage  [0..1] ;

    //composition subJavaPackage
    //   [0..1]  JavaPackage (parent)  ->  (child) JavaPackage  [*] ;


    // JavaSourceFile
    class JavaView extends ArtifactView{
    }


    class ExternalJavaSource extends Artifact{
    }

    association imports [*] JavaView -> Artifact [*] ;
    association compiledTo [1] JavaView -> Artifact [*] ;




    // ______________________________________________________
    // ArtifactInternals
    // ______________________________________________________

    // JavaType
    abstract class JavaType extends ArtifactInternal{

        String name;
        String fullName;
        //TODO: abgeleitete Attribute
        //boolean isInnerType;

        //int loc; Now in LOC Metric
    }

    association defines [1] JavaView -> JavaType [*] ;
    association mainType [1] JavaView -> JavaType [1] ;

    //composition contains  [1]  JavaPackage  ->  JavaType  [*] ;

    //TODO was composition
    //association [0..1] JavaType(containingType) -> (innerType)JavaType [*] ;

    association reliesOnJavaType [*] JavaType -> JavaType [*] ;

    association methods [1] JavaType <-> JavaMethod [*];

    association visibility [1] JavaType -> JavaVisibility [1];

    association innerClasses [*] JavaType -> JavaClass [*];


    // JavaClass
    class JavaClass extends JavaType {
        boolean isFinal;
        boolean isStatic;
        boolean isAbstract;
        //TODO generics ?
    }

    association subclass [*] JavaClass -> JavaClass [0..1] ;

    association interfaceImplementations [*] JavaClass -> JavaInterface [*] ;

    association variables [1] JavaClass -> JavaVariable [*] ;

    // JavaInterface
    class JavaInterface extends JavaType {
    }

    association interfaces [*] JavaInterface -> JavaInterface [*] ; // Interface extensions


    // Java Variable
    class JavaVariable extends ArtifactInternal {
        String name;
        boolean isFinal;
        boolean isStatic;
        String type;
        String defaultValue;
    }

    association  [1] JavaVariable -> (visibility)JavaVisibility [1];


    // JavaMethod
    class JavaMethod extends ArtifactInternal {
        String name;
        boolean isFinal;
        boolean isStatic;
        //int loc; now in LOCMetric
        //TODO generics ?
        //TODO use Type ?
        String returnType;
    }

    association [1] JavaMethod -> (visibility)JavaVisibility [1];


    // JavaParameter
    class JavaParameter{
        String type;
        String name;
    }

    association params [1] JavaMethod <-> JavaParameter [*];


    // JavaVisibility
    //TODO was enum
    class JavaVisibility {
        boolean isPublic;
        boolean isPrivate;
        boolean isProtected;
        boolean isPackagePrivate;
        String name;
    }

    // ______________________________________________________
    // Metrics
    // ______________________________________________________

    class JavaLinesOfCodeMetric extends Metric {
        int loc;
    }

}
